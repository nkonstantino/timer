<html>
   
   <head>
      <title>Angular JS Filters</title>
      <script src = "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
      <script src = "/js/TimerApp.js"></script>
   </head>
   
   <body>
    <h2>AngularJS Sample Application</h2>
      
    <div ng-app = "TimerApp" ng-controller = "timerController">
        <!-- View all timers -->
        <table>
            <tr>
                <th>Timer ID</th>
                <th>User ID</th>
                <th>Project ID</th>
                <th>Start Date</th>
                <th>Start Time</th>
                <th>End Date</th>
                <th>End Time</th>
                <th>Total Time</th>
                <th>Edit</th>
                <th>Delete</th>   
            </tr>
            <tr ng-repeat="t in timers | orderBy:'S_time'">
                <td>{{ t.T_id }}</td>
                <td>{{ t.U_id }}</td>
                <td>{{ t.P_id }}</td>
                <td>{{ t.S_time *1000 | date:'MM-dd-yyyy'}}</td>
                <td>{{ t.S_time *1000 | date:'HH:mm:ss'}}</td>
                <td>{{ t.E_time *1000 | date:'MM-dd-yyyy'}}</td>
                <td>{{ t.E_time *1000 | date:'HH:mm:ss'}}</td>
                <td>{{ t.T_time }}</td>
                <td><button ng-click="editTimer(t.T_id)">Edit</button></td>
                <td><button>Delete</button></td>
           </tr>	
         </table>
         {{count}}
         <!-- Editing timers -->
         <!-- Adding timers -->
      </div>

    <script>
     var mainApp = angular.module("TimerApp", []);
     mainApp.controller('timerController', function($scope, $http) {
         var url = "timer_json.php";
         $http.get(url).success( function(response) {
             $scope.timers = response;
         });
    $scope.count = 0;
    
    $scope.editTimer = function(val){
        console.log(val);
     };
     
     });
  </script>
   </body>
</html>